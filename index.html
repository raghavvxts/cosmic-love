<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vedanshi â™Š</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  overflow:hidden;
  background:black;
  font-family:'Poppins',sans-serif;
  color:gold;
}
canvas{position:fixed;top:0;left:0;}

/* Moving Golden Spotlight */
#beamOverlay{
  position:fixed;
  inset:0;
  pointer-events:none;
  background:radial-gradient(circle at 20% 40%,
    rgba(255,215,0,0.6) 0%,
    rgba(255,215,0,0.3) 20%,
    rgba(0,0,0,0.95) 65%);
  transition:background 1s linear;
  z-index:4;
}

/* Volumetric Rays */
#rays{
  position:fixed;
  inset:0;
  pointer-events:none;
  background:repeating-linear-gradient(
    90deg,
    rgba(255,215,0,0.08) 0px,
    rgba(255,215,0,0.08) 2px,
    transparent 2px,
    transparent 20px
  );
  opacity:0;
  transition:opacity 3s ease;
  z-index:3;
  mix-blend-mode:screen;
}

#ui{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  opacity:0;
  transition:opacity 3s ease;
  z-index:5;
}

h1{
  font-family:'Playfair Display',serif;
  font-size:48px;
}

h2{
  font-weight:300;
  font-size:20px;
  margin-bottom:30px;
}

button{
  padding:14px 36px;
  font-size:18px;
  border:none;
  border-radius:50px;
  cursor:pointer;
  margin:8px 15px;
  transition:.3s ease;
}

#yes{
  background:linear-gradient(45deg,gold,#ffd700);
  color:black;
}
#yes:hover{transform:scale(1.1);}
#no{background:#333;color:#ccc;}
#message{margin-top:15px;color:#ff6b9a;}
</style>
</head>
<body>

<div id="beamOverlay"></div>
<div id="rays"></div>

<audio id="music" src="song.mp3"></audio>

<div id="ui">
  <h1>Will you be my prom date?</h1>
  <h2>Vedanshi â™Š</h2>
  <div>
    <button id="yes">Okiee Yaawr! ðŸ’›</button>
    <button id="no">No</button>
  </div>
  <div id="message"></div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<script>
let scene=new THREE.Scene();
let camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,5000);
let renderer=new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth,window.innerHeight);
document.body.appendChild(renderer.domElement);
camera.position.z=900;

/* GOLD BACKGROUND STARS */
function createStars(count,spread,size,color){
  const geo=new THREE.BufferGeometry();
  const pos=[];
  for(let i=0;i<count;i++){
    pos.push(
      (Math.random()-0.5)*spread,
      (Math.random()-0.5)*spread,
      (Math.random()-0.5)*spread
    );
  }
  geo.setAttribute('position',new THREE.Float32BufferAttribute(pos,3));
  const mat=new THREE.PointsMaterial({size:size,color:color});
  const stars=new THREE.Points(geo,mat);
  scene.add(stars);
}
createStars(60000,5000,2,0xffd700);

/* PINK CUPID */
const cupidGeo=new THREE.BufferGeometry();
const cupidPos=[];
for(let i=0;i<20000;i++){
  let x=Math.random()*400-300;
  let y=Math.random()*300-150;
  if(x < -50) y+=Math.sin(x*0.05)*60;
  if(x > -100 && x < 0) y*=0.6;
  cupidPos.push(x,y,Math.random()*50-25);
}
cupidGeo.setAttribute('position',new THREE.Float32BufferAttribute(cupidPos,3));
const cupidMat=new THREE.PointsMaterial({size:3,color:0xff69b4});
const cupid=new THREE.Points(cupidGeo,cupidMat);
cupid.position.set(-250,0,0);
scene.add(cupid);

/* Smooth Spotlight Animation */
let beamX = 20;
let targetX = 50;
let startTime = Date.now();
let duration = 6000; // 6 seconds

function updateBeam(){
  let elapsed = Date.now() - startTime;
  let progress = Math.min(elapsed / duration, 1);
  let currentX = 20 + (50 - 20) * progress;

  document.getElementById("beamOverlay").style.background =
    `radial-gradient(circle at ${currentX}% 40%,
      rgba(255,215,0,0.6) 0%,
      rgba(255,215,0,0.3) 20%,
      rgba(0,0,0,0.95) 65%)`;

  if(progress < 1){
    requestAnimationFrame(updateBeam);
  } else {
    document.getElementById("rays").style.opacity = 1;
    document.getElementById("ui").style.opacity = 1;
  }
}

setTimeout(updateBeam,2000);

/* RENDER LOOP */
function animate(){
  requestAnimationFrame(animate);
  cupid.rotation.y+=0.0005;
  renderer.render(scene,camera);
}
animate();

/* BUTTON LOGIC */
let noClicks=0;
const noBtn=document.getElementById("no");
const yesBtn=document.getElementById("yes");
const message=document.getElementById("message");

noBtn.onclick=function(){
  noClicks++;
  if(noClicks==1) message.innerText="Are you sure? ðŸ¥º";
  else if(noClicks==2) message.innerText="Really? ðŸ˜­";
  else{
    message.innerText="You are evil ðŸ˜¤";
    noBtn.style.opacity="0";
    setTimeout(()=>noBtn.remove(),1000);
  }
  yesBtn.style.transform="scale("+(1+noClicks*0.4)+")";
};

yesBtn.onclick=function(){
  document.getElementById("music").play();
};
</script>
</body>
</html>
