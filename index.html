<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vedanshi â™Š</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins:wght@300;400&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  overflow:hidden;
  background:#000;
  font-family:'Poppins',sans-serif;
  color:#f8c8dc;
}

canvas{
  position:fixed;
  top:0;
  left:0;
}

#ui{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  z-index:5;
  transition:opacity 1.5s ease;
}

#photo{
  width:220px;
  height:220px;
  border-radius:50%;
  background:url("us2.jpg") center/cover no-repeat;
  box-shadow:0 0 40px rgba(255,182,193,0.8);
  margin-bottom:30px;
}

h1{
  font-family:'Playfair Display',serif;
  font-size:42px;
  margin-bottom:10px;
}

h2{
  font-weight:300;
  margin-bottom:25px;
}

button{
  padding:14px 36px;
  border:none;
  border-radius:40px;
  font-size:16px;
  margin:10px;
  cursor:pointer;
  transition:0.3s ease;
}

#yes{
  background:#f8c8dc;
  color:black;
}

#yes:hover{
  transform:scale(1.1);
}

#no{
  background:#333;
  color:#ccc;
}

#cosmicYes{
  position:absolute;
  top:30%;
  width:100%;
  text-align:center;
  font-family:'Playfair Display',serif;
  font-size:64px;
  opacity:0;
  color:#f8c8dc;
  text-shadow:0 0 40px rgba(255,182,193,0.8);
  transition:opacity 2s ease;
  z-index:6;
}
</style>
</head>
<body>

<audio id="music" src="song.mp3"></audio>

<div id="cosmicYes">A Cosmic Yes.</div>

<div id="ui">
  <div id="photo"></div>
  <h1>Will you be my prom date?</h1>
  <h2>Vedanshi â™Š</h2>
  <div>
    <button id="yes">Okiee Yaawr ðŸ’—</button>
    <button id="no">No</button>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<script>
let scene=new THREE.Scene();
let camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,5000);
let renderer=new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth,window.innerHeight);
document.body.appendChild(renderer.domElement);
camera.position.z=1000;

/* STAR FIELD */
const starGeo=new THREE.BufferGeometry();
const starCount=40000;
const positions=[];

for(let i=0;i<starCount;i++){
  positions.push(
    (Math.random()-0.5)*5000,
    (Math.random()-0.5)*3000,
    (Math.random()-0.5)*3000
  );
}

starGeo.setAttribute('position',new THREE.Float32BufferAttribute(positions,3));
const starMat=new THREE.PointsMaterial({
  color:0xffffff,
  size:1.5
});
const stars=new THREE.Points(starGeo,starMat);
scene.add(stars);

/* SIMPLE PINK CONSTELLATION CUPID */
const cupidGeo=new THREE.BufferGeometry();
const cupidPositions=[];
for(let i=0;i<8000;i++){
  let x=Math.random()*400-300;
  let y=Math.random()*300-150;
  cupidPositions.push(x,y,Math.random()*30-15);
}
cupidGeo.setAttribute('position',new THREE.Float32BufferAttribute(cupidPositions,3));
const cupidMat=new THREE.PointsMaterial({
  color:0xf8c8dc,
  size:2
});
const cupid=new THREE.Points(cupidGeo,cupidMat);
cupid.position.set(-350,0,0);
scene.add(cupid);

/* ARROW */
let arrow=new THREE.Mesh(
  new THREE.CylinderGeometry(5,5,400,12),
  new THREE.MeshBasicMaterial({color:0xffffff})
);
arrow.rotation.z=Math.PI/4;
arrow.position.set(-200,-150,0);
arrow.visible=false;
scene.add(arrow);

/* TRAIL */
function createTrail(x,y){
  let star=new THREE.Mesh(
    new THREE.SphereGeometry(3,6,6),
    new THREE.MeshBasicMaterial({color:0xf8c8dc})
  );
  star.position.set(x,y,0);
  scene.add(star);

  let fade=setInterval(()=>{
    star.scale.multiplyScalar(0.9);
    star.material.opacity-=0.05;
    star.material.transparent=true;
    if(star.material.opacity<=0){
      scene.remove(star);
      clearInterval(fade);
    }
  },30);
}

let zoom=false;
let finalState=false;

function animate(){
  requestAnimationFrame(animate);

  stars.rotation.y+=0.0005;

  if(zoom){
    camera.position.z-=3;
  }

  renderer.render(scene,camera);
}
animate();

/* YES CLICK */
document.getElementById("yes").onclick=function(){
  document.getElementById("music").play();
  document.getElementById("ui").style.opacity=0;
  arrow.visible=true;

  let shoot=setInterval(()=>{
    arrow.position.x+=20;
    arrow.position.y+=20;
    createTrail(arrow.position.x,arrow.position.y);

    if(arrow.position.x>200){
      clearInterval(shoot);

      zoom=true;
      cupid.visible=false;

      setTimeout(()=>{
        document.getElementById("cosmicYes").style.opacity=1;
      },800);
    }
  },20);
};

/* NO LOGIC */
let noClicks=0;
document.getElementById("no").onclick=function(){
  noClicks++;
  if(noClicks==1) alert("Are you sure? ðŸ¥º");
  else if(noClicks==2) alert("Really? ðŸ˜­");
  else this.remove();
};
</script>

</body>
</html>
